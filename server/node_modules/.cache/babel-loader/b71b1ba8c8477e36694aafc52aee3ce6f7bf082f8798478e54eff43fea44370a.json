{"ast":null,"code":"var _jsxFileName = \"/Users/bigo/Desktop/mentellhealth/mentellhealth/mentellhealth/src/App.tsx\";\nimport React from \"react\";\nimport { Refine } from \"@pankod/refine-core\";\nimport { notificationProvider, RefineSnackbarProvider, CssBaseline, GlobalStyles, ReadyPage, ErrorComponent } from \"@pankod/refine-mui\";\nimport { AccountCircleOutlined, ChatBubbleOutline, PeopleAltOutlined, StarOutlineRounded, VillaOutlined } from \"@mui/icons-material\";\nimport dataProvider from \"@pankod/refine-simple-rest\";\nimport routerProvider from \"@pankod/refine-react-router-v6\";\nimport axios from \"axios\";\nimport { Title, Sider, Layout, Header } from \"components/layout\";\nimport { ColorModeContextProvider } from \"contexts\";\nimport { parseJwt } from \"utils/parse-jwt\";\nimport { Login, Home, Agents, MyProfile, PropertyDetails, AllProperties, CreateProperty, AgentProfile, EditProperty } from \"pages\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst axiosInstance = axios.create();\naxiosInstance.interceptors.request.use(request => {\n  const token = localStorage.getItem(\"token\");\n  if (request.headers) {\n    request.headers[\"Authorization\"] = `Bearer ${token}`;\n  } else {\n    request.headers = {\n      Authorization: `Bearer ${token}`\n    };\n  }\n  return request;\n});\nfunction App() {\n  const authProvider = {\n    login: async _ref => {\n      let {\n        credential\n      } = _ref;\n      const profileObj = credential ? parseJwt(credential) : null;\n      if (profileObj) {\n        const response = await fetch(\"http://localhost:8080/api/v1/users\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: profileObj.name,\n            email: profileObj.email,\n            avatar: profileObj.picture\n          })\n        });\n        const data = await response.json();\n        if (response.status === 200) {\n          localStorage.setItem(\"user\", JSON.stringify({\n            ...profileObj,\n            avatar: profileObj.picture,\n            userid: data._id\n          }));\n        } else {\n          return Promise.reject();\n        }\n      }\n      localStorage.setItem(\"token\", `${credential}`);\n      return Promise.resolve();\n    },\n    logout: () => {\n      const token = localStorage.getItem(\"token\");\n      if (token && typeof window !== \"undefined\") {\n        var _window$google;\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        axios.defaults.headers.common = {};\n        (_window$google = window.google) === null || _window$google === void 0 ? void 0 : _window$google.accounts.id.revoke(token, () => {\n          return Promise.resolve();\n        });\n      }\n      return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: async () => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        return Promise.resolve();\n      }\n      return Promise.reject();\n    },\n    getPermissions: () => Promise.resolve(),\n    getUserIdentity: async () => {\n      const user = localStorage.getItem(\"user\");\n      if (user) {\n        return Promise.resolve(JSON.parse(user));\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ColorModeContextProvider, {\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GlobalStyles, {\n      styles: {\n        html: {\n          WebkitFontSmoothing: \"auto\"\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(RefineSnackbarProvider, {\n      children: /*#__PURE__*/_jsxDEV(Refine, {\n        dataProvider: dataProvider(\"http://localhost:8080/api/v1\"),\n        notificationProvider: notificationProvider,\n        ReadyPage: ReadyPage,\n        catchAll: /*#__PURE__*/_jsxDEV(ErrorComponent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 31\n        }, this),\n        resources: [{\n          name: \"properties\",\n          list: AllProperties,\n          show: PropertyDetails,\n          create: CreateProperty,\n          edit: EditProperty,\n          icon: /*#__PURE__*/_jsxDEV(VillaOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 35\n          }, this)\n        }, {\n          name: \"network\",\n          list: Agents,\n          show: AgentProfile,\n          icon: /*#__PURE__*/_jsxDEV(PeopleAltOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 35\n          }, this)\n        }, {\n          name: \"reviews\",\n          list: Home,\n          icon: /*#__PURE__*/_jsxDEV(StarOutlineRounded, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 35\n          }, this)\n        }, {\n          name: \"messages\",\n          list: Home,\n          icon: /*#__PURE__*/_jsxDEV(ChatBubbleOutline, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 35\n          }, this)\n        }, {\n          name: \"my-profile\",\n          options: {\n            label: \"My Profile \"\n          },\n          list: MyProfile,\n          icon: /*#__PURE__*/_jsxDEV(AccountCircleOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 35\n          }, this)\n        }],\n        Title: Title,\n        Sider: Sider,\n        Layout: Layout,\n        Header: Header,\n        routerProvider: routerProvider,\n        authProvider: authProvider,\n        LoginPage: Login,\n        DashboardPage: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 9\n  }, this);\n}\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Refine","notificationProvider","RefineSnackbarProvider","CssBaseline","GlobalStyles","ReadyPage","ErrorComponent","AccountCircleOutlined","ChatBubbleOutline","PeopleAltOutlined","StarOutlineRounded","VillaOutlined","dataProvider","routerProvider","axios","Title","Sider","Layout","Header","ColorModeContextProvider","parseJwt","Login","Home","Agents","MyProfile","PropertyDetails","AllProperties","CreateProperty","AgentProfile","EditProperty","jsxDEV","_jsxDEV","axiosInstance","create","interceptors","request","use","token","localStorage","getItem","headers","Authorization","App","authProvider","login","_ref","credential","profileObj","response","fetch","method","body","JSON","stringify","name","email","avatar","picture","data","json","status","setItem","userid","_id","Promise","reject","resolve","logout","window","_window$google","removeItem","defaults","common","google","accounts","id","revoke","checkError","checkAuth","getPermissions","getUserIdentity","user","parse","children","fileName","_jsxFileName","lineNumber","columnNumber","styles","html","WebkitFontSmoothing","catchAll","resources","list","show","edit","icon","options","label","LoginPage","DashboardPage","_c","$RefreshReg$"],"sources":["/Users/bigo/Desktop/mentellhealth/mentellhealth/mentellhealth/src/App.tsx"],"sourcesContent":["import React from \"react\";\n\nimport { Refine, AuthProvider } from \"@pankod/refine-core\";\nimport {\n    notificationProvider,\n    RefineSnackbarProvider,\n    CssBaseline,\n    GlobalStyles,\n    ReadyPage,\n    ErrorComponent,\n} from \"@pankod/refine-mui\";\nimport {\n    AccountCircleOutlined,\n    ChatBubbleOutline,\n    PeopleAltOutlined,\n    StarOutlineRounded,\n    VillaOutlined,\n} from \"@mui/icons-material\";\n\nimport dataProvider from \"@pankod/refine-simple-rest\";\nimport routerProvider from \"@pankod/refine-react-router-v6\";\nimport axios, { AxiosRequestConfig } from \"axios\";\nimport { Title, Sider, Layout, Header } from \"components/layout\";\nimport { ColorModeContextProvider } from \"contexts\";\nimport { CredentialResponse } from \"interfaces/google\";\nimport { parseJwt } from \"utils/parse-jwt\";\n\nimport {\n    Login,\n    Home,\n    Agents,\n    MyProfile,\n    PropertyDetails,\n    AllProperties,\n    CreateProperty,\n    AgentProfile,\n    EditProperty,\n} from \"pages\";\n\nconst axiosInstance = axios.create();\naxiosInstance.interceptors.request.use((request: AxiosRequestConfig) => {\n    const token = localStorage.getItem(\"token\");\n    if (request.headers) {\n        request.headers[\"Authorization\"] = `Bearer ${token}`;\n    } else {\n        request.headers = {\n            Authorization: `Bearer ${token}`,\n        };\n    }\n\n    return request;\n});\n\nfunction App() {\n    const authProvider: AuthProvider = {\n        login: async ({ credential }: CredentialResponse) => {\n            const profileObj = credential ? parseJwt(credential) : null;\n\n            if (profileObj) {\n                const response = await fetch(\n                    \"http://localhost:8080/api/v1/users\",\n                    {\n                        method: \"POST\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify({\n                            name: profileObj.name,\n                            email: profileObj.email,\n                            avatar: profileObj.picture,\n                        }),\n                    },\n                );\n\n                const data = await response.json();\n\n                if (response.status === 200) {\n                    localStorage.setItem(\n                        \"user\",\n                        JSON.stringify({\n                            ...profileObj,\n                            avatar: profileObj.picture,\n                            userid: data._id,\n                        }),\n                    );\n                } else {\n                    return Promise.reject();\n                }\n            }\n            localStorage.setItem(\"token\", `${credential}`);\n\n            return Promise.resolve();\n        },\n        logout: () => {\n            const token = localStorage.getItem(\"token\");\n\n            if (token && typeof window !== \"undefined\") {\n                localStorage.removeItem(\"token\");\n                localStorage.removeItem(\"user\");\n                axios.defaults.headers.common = {};\n                window.google?.accounts.id.revoke(token, () => {\n                    return Promise.resolve();\n                });\n            }\n\n            return Promise.resolve();\n        },\n        checkError: () => Promise.resolve(),\n        checkAuth: async () => {\n            const token = localStorage.getItem(\"token\");\n\n            if (token) {\n                return Promise.resolve();\n            }\n            return Promise.reject();\n        },\n\n        getPermissions: () => Promise.resolve(),\n        getUserIdentity: async () => {\n            const user = localStorage.getItem(\"user\");\n            if (user) {\n                return Promise.resolve(JSON.parse(user));\n            }\n        },\n    };\n\n    return (\n        <ColorModeContextProvider>\n            <CssBaseline />\n            <GlobalStyles styles={{ html: { WebkitFontSmoothing: \"auto\" } }} />\n            <RefineSnackbarProvider>\n                <Refine\n                    dataProvider={dataProvider(\"http://localhost:8080/api/v1\")}\n                    notificationProvider={notificationProvider}\n                    ReadyPage={ReadyPage}\n                    catchAll={<ErrorComponent />}\n                    resources={[\n                        {\n                            name: \"properties\",\n                            list: AllProperties,\n                            show: PropertyDetails,\n                            create: CreateProperty,\n                            edit: EditProperty,\n                            icon: <VillaOutlined />,\n                        },\n                        {\n                            name: \"network\",\n                            list: Agents,\n                            show: AgentProfile,\n                            icon: <PeopleAltOutlined />,\n                        },\n                        {\n                            name: \"reviews\",\n                            list: Home,\n                            icon: <StarOutlineRounded />,\n                        },\n                        {\n                            name: \"messages\",\n                            list: Home,\n                            icon: <ChatBubbleOutline />,\n                        },\n                        {\n                            name: \"my-profile\",\n                            options: { label: \"My Profile \" },\n                            list: MyProfile,\n                            icon: <AccountCircleOutlined />,\n                        },\n                    ]}\n                    Title={Title}\n                    Sider={Sider}\n                    Layout={Layout}\n                    Header={Header}\n                    routerProvider={routerProvider}\n                    authProvider={authProvider}\n                    LoginPage={Login}\n                    DashboardPage={Home}\n                />\n            </RefineSnackbarProvider>\n        </ColorModeContextProvider>\n    );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}